#!/bin/bash
##
## This script check all bios files
## Alexandre Freire dos Santos
## alexxandre.freire@gmail.com
## Batocera.PLUS
##
declare -A BIOS

#### Atari ####

BIOS[atari5200]="atari5200,           Atari 5200
    281f20ea4320404ec820fb7ec0693b38, bios/5200.rom
    06daac977823773a3eea3422fd26a703, bios/ATARIXL.ROM
    0bac0c6a50104045d902df4503a4c30b, bios/ATARIBAS.ROM
    eb1f32f5d9f382db1bbfb8d7f9cb343a, bios/ATARIOSA.ROM
    a3e8d617c95d08031fe1b20d541434b2, bios/ATARIOSB.ROM"

BIOS[atari7800]="atari7800,           Atari 7800
    397bb566584be7b9764e7a68974c4263, bios/7800 BIOS (E).rom
    0763f1ffb006ddbe32e52d497ee848ae, bios/7800 BIOS (U).rom
    ce6a86574d0c9de9075705f14e99d090, bios/ProSystem.dat"

BIOS[atarist]="atarist,               Atari ST
    b2a8570de2e850c5acf81cb80512d9f6, bios/tos.img"

BIOS[lynx]="lynx,                     Atari Lynx
    fcd403db69f54290b51035d82f835e7b, bios/lynxboot.img"


### Coleco ####

BIOS[colecovision]="colecovision,     ColecoVision
    2c66f5911e5b42b8ebe113403548eee7, bios/BIOS.col"


#### Commodore ####

BIOS[amiga]="amiga,                   Commodore Amiga
    bb72565701b1b6faece07d68ea5da639, bios/CD32 Extended-ROM r40.60 (1993)(Commodore)(CD32).rom
    89da1838a24460e4b93f4f0c5d92d48d, bios/CDTV Extended-ROM v1.0 (1991)(Commodore)(CDTV)[!].rom
    85ad74194e87c08904327de1a9443b7a, bios/Kickstart v1.2 r33.180 (1986)(Commodore)(A500-A1000-A2000)[!].rom
    68c9c0826f6c0ca20546d588ee77391c, bios/Kickstart v1.2 rev 33.166 (1986)(Commodore)(A1000).rom
    192d6d950d0ed3df8040b788502831c2, bios/Kickstart v1.3 r34.5 (1987)(Commodore)(A500-A1000-A2000-CDTV)[o].rom
    82a21c1890cae844b3df741f2762d48d, bios/Kickstart v1.3 r34.5 (1987)(Commodore)(A500-A1000-A2000-CDTV)[!].rom
    dc10d7bdd1b6f450773dfb558477c230, bios/Kickstart v2.04 r37.175 (1991)(Commodore)(A500+)[!].rom
    465646c9b6729f77eea5314d1f057951, bios/Kickstart v2.05 r37.350 (1992)(Commodore)(A600HD)[!].rom
    5f8924d013dd57a89cf349f4cdedc6b1, bios/Kickstart v3.1 r40.60 (1993)(Commodore)(CD32).rom
    646773759326fbac3b2311fd8c8793ee, bios/Kickstart v3.1 r40.68 (1993)(Commodore)(A1200)[!].rom
    413590e50098a056cfec418d3df0212d, bios/Kickstart v3.1 r40.68 (1993)(Commodore)(A3000).rom
    9bdedde6a4f33555b4a270c8ca53297d, bios/Kickstart v3.1 r40.68 (1993)(Commodore)(A4000).rom
    82a21c1890cae844b3df741f2762d48d, bios/kick34005.A500
    dc10d7bdd1b6f450773dfb558477c230, bios/kick37175.A500
    e40a5dfb3d017ba8779faba30cbd1c8e, bios/kick40063.A600
    646773759326fbac3b2311fd8c8793ee, bios/kick40068.A1200
    9bdedde6a4f33555b4a270c8ca53297d, bios/kick40068.A4000
    89da1838a24460e4b93f4f0c5d92d48d, bios/kick34005.CDTV
    5f8924d013dd57a89cf349f4cdedc6b1, bios/kick40060.CD32
    bb72565701b1b6faece07d68ea5da639, bios/kick40060.CD32.ext
    b64bee23f356635f67fb08b543df9797, bios/uae_data/drive_click_LOUD.wav
    40cdf89f35b68cfefd4df5fb0256e02f, bios/uae_data/drive_snatch_LOUD.wav
    56d8e36a2f04b5e8c5a1f1530cfc886c, bios/uae_data/drive_spin_LOUD.wav
    43ab05c6d969cb40805970a5b2352875, bios/uae_data/drive_spinnd_LOUD.wav
    743b4b9f0ca645c4c2a34953b5e01e45, bios/uae_data/drive_startup_LOUD.wav
    00000000000000000000000000000000, bios/capsimg.so"


#### Magnavox and Philips ####

BIOS[o2em]="o2em,                     Odyssey2
    562d5ebf9e030a40d6fabfc2f33139fd, bios/o2rom.bin
    f1071cdb0b6b10dde94d3bc8a6146387, bios/c52.bin
    c500ff71236068e0dc0d0603d265ae76, bios/g7400.bin
    279008e4a0db2dc5f1c048853b033828, bios/jopac.bin"


#### Mattel ####

BIOS[intellivision]="intellivision,   Intellivision
    62e761035cb657903761800f4437b8af, bios/exec.bin
    0cd5946c6473e42e8e4c2137785e427f, bios/grom.bin
    2e72a9a2b897d330a35c8b07a6146c52, bios/ECS.bin
    d5530f74681ec6e0f282dab42e6b1c5f, bios/IVOICE.bin"


#### Microsoft ####

BIOS[msx]="msx,                       MSX
    364a1a579fe5cb8dba54519bcfcdac0d, bios/MSX.ROM
    ec3a01c91f24fbddcbcab0ad301bc9ef, bios/MSX2.ROM
    2183c2aff17cf4297bdb496de78c2e8a, bios/MSX2EXT.ROM
    847cc025ffae665487940ff2639540e5, bios/MSX2P.ROM
    7c8243c71d8f143b2531f01afa6a05dc, bios/MSX2PEXT.ROM
    80dcd1ad1a4cf65d64b7ba10504e8190, bios/DISK.ROM
    6f69cc8b5ed761b03afd78000dfb0e19, bios/FMPAC.ROM
    6418d091cd6907bbcf940324339e43bb, bios/MSXDOS2.ROM
    403cdea1cbd2bb24fae506941f8f655e, bios/PAINTER.ROM
    febe8782b466d7c3b16de6d104826b34, bios/KANJI.ROM"


#### NEC ####

BIOS[pcengine]="pcengine,             PC Engine
    ff1a674273fe3540ccef576376407d1d, bios/syscard3.pce"

BIOS[pcfx]="pcfx,                     PC-FXs
    08e36edbea28a017f79f8d4f7ff9b6d7, bios/pcfx.rom"

BIOS[supergrafx]="supergrafx,         Supergrafx
    ff1a674273fe3540ccef576376407d1d, bios/syscard3.pce
    424f1d6bf93259bf255afa7d1dc9f721, bios/syscard2.pce
    9f770275393b8627cf9d24e5c56d2ab9, bios/syscard1.pce
    6d2cb14fc3e1f65ceb135633d1694122, bios/gexpress.pce"

BIOS[pc88]="pc88,                     NEC PC-88
    4f984e04a99d56c4cfe36115415d6eb8, bios/quasi88/N88.ROM
    2ff07b8769367321128e03924af668a0, bios/quasi88/N88N.ROM
    793f86784e5608352a5d7f03f03e0858, bios/quasi88/DISK.ROM
    d675a2ca186c6efcd6277b835de4c7e5, bios/quasi88/N88_0.ROM
    e844534dfe5744b381444dbe61ef1b66, bios/quasi88/N88_1.ROM
    6548fa45061274dee1ea8ae1e9e93910, bios/quasi88/N88_2.ROM
    fc4b76a402ba501e6ba6de4b3e8b4273, bios/quasi88/N88_3.ROM
    d81c6d5d7ad1a4bbbd6ae22a01257603, bios/quasi88/N88KNJ1.ROM
    898a3b7b6c3326e8b2069765bca2b944, bios/quasi88/N88KNJ2.ROM
    2e548679423370262f36cbde38a22789, bios/quasi88/n88jisho.rom
    14bc9e267cf0cb56d22d5c470f582d53, bios/quasi88/font.rom"

BIOS[pc98]="pc98,                     NEC PC-98
    d94546e70f17fd899be8df3544ab6cbb, bios/np2kai/2608_bd.wav
    08c54a0c1f774a5538a848a6665a34b4, bios/np2kai/2608_hh.wav
    465ea0768b27da404aec45dfc501404b, bios/np2kai/2608_rim.wav
    d71004351c8bbfdad53b18222c061d49, bios/np2kai/2608_sd.wav
    96a4ead13f364734f79b0c58af2f0e1f, bios/np2kai/2608_tom.wav
    593cff6597ab9380d822b8f824fd2c28, bios/np2kai/2608_top.wav
    38d32748ae49d1815b0614970849fd40, bios/np2kai/FONT.ROM
    cd237e16e7e77c06bb58540e9e9fca68, bios/np2kai/bios.rom
    72ea51443070f0e9212bfc9b793ee28e, bios/np2kai/itf.rom
    7da1e5b7c482d4108d22a5b09631d967, bios/np2kai/font.bmp
    fddbb37ae82c03788fb6b9d8c642efbe, bios/np2kai/memory.bin
    524473c1a5a03b17e21d86a0408ff827, bios/np2kai/sound.rom"


#### Nintendo ####

BIOS[fds]="fds,                       Family Computer Disk System
    7bfe8c0540ed4bd6a0f1e2a0f0118ced, bios/NstDatabase.xml
    ca30b50f880eb660a320674ed365ef7a, bios/disksys.rom"

BIOS[gb]="gb,                         Game Boy
    32fbbd84168d3482956eb3c5051637f5, bios/gb_bios.bin
    dbfce9db9deaa2567f6a84fde55f9680, bios/gbc_bios.bin"

BIOS[gbc]="gbc,                       Game Boy Color
    32fbbd84168d3482956eb3c5051637f5, bios/gb_bios.bin
    dbfce9db9deaa2567f6a84fde55f9680, bios/gbc_bios.bin"

BIOS[gba]="gba,                       Game Boy Advance
    a860e8c0b6d573d191e4ec7db1b1e4f6, bios/gba_bios.bin
    32fbbd84168d3482956eb3c5051637f5, bios/gb_bios.bin
    dbfce9db9deaa2567f6a84fde55f9680, bios/gbc_bios.bin
    d574d4f9c12f305074798f54c091a8b4, bios/sgb_bios.bin"

BIOS[snes]="snes,                     Super Nintendo Entertainment System
    b15ddb15721c657d82c5bab6db982ee9, bios/SGB1.sfc
    8ecd73eb4edf7ed7e81aef1be80031d5, bios/SGB2.sfc
    037ac4296b6b6a5c47c440188d3c72e3, bios/cx4.data.rom
    3d81b45fa0c2aa8b852dfb1ece7c0971, bios/dsp1.data.rom
    ae209fbe789fbf11a48aea5ab1197321, bios/dsp1.program.rom
    1e3f568634a7d8284020dddc0ae905bc, bios/dsp1b.data.rom
    d10f446888e097cbf500f3f663cf4f6d, bios/dsp1b.program.rom
    e9417e29223b139c3c4b635a2a3b8744, bios/dsp2.data.rom
    aa6e5922a3ed5ded54f24247c11143c5, bios/dsp2.program.rom
    0a81210c0a940b997dd9843281008ee6, bios/dsp3.data.rom
    d99ca4562818d49cee1f242705bba6f8, bios/dsp3.program.rom
    ee4990879eb68e3cbca239c5bc20303d, bios/dsp4.data.rom
    a151023b948b90ffc23a5b594bb6fef2, bios/dsp4.program.rom
    254d70762b6f59f99c27c395aba7d07d, bios/st010.data.rom
    1d70019179a59a566a0bb5d3f2845544, bios/st010.program.rom
    10bd3f4aa949737ab9836512c35bcc29, bios/st011.data.rom
    95222ebf1c0c2990bcf25db43743f032, bios/st011.program.rom
    49c898b60d0f15e90d0ba780dd12f366, bios/st018.data.rom
    dda40ccd57390c96e49d30a041f9a9e7, bios/st018.program.rom"

BIOS[satellaview]="satellaview,       Satellaview
    96cf17bf589fcbfa6f8de2dc84f19fa2, bios/BS-X.bin"
   #fed4d8242cfbed61343d53d48432aced, bios/BS-X.bin (original)
   #BS-X BIOS (English) [No DRM] [2016 v1.3].sfc
   #https://project.satellaview.org/downloads.htm

BIOS[sufami]="sufami,                 SuFami Turbo
    d3a44ba7d42a74d3ac58cb9c14c6a5ca, bios/STBIOS.bin"

BIOS[n64dd]="n64dd,                   Nintendo 64 Disk Drive
    8d3d9f294b6e174bc7b1d2fd1c727530, bios/64DD_IPL.bin
    8d3d9f294b6e174bc7b1d2fd1c727530, bios/Mupen64plus/IPL.n64"

BIOS[gamecube]="gamecube,             Nintendo GameCube
    b17148254a5799684c7d783206504926, bios/dolphin-emu/Sys/GC/USA/IPL.bin
    019e39822a9ca3029124f74dd4d55ac4, bios/dolphin-emu/Sys/GC/JAP/IPL.bin
    db92574caab77a7ec99d4605fd6f2450, bios/dolphin-emu/Sys/GC/EUR/IPL.bin"

BIOS[switch]="switch,                 Nintendo Switch
    00000000000000000000000000000000, bios/yuzu/keys/prod.keys"

BIOS[nds]="nds,                       Nintendo DS
    145eaef5bd3037cbc247c213bb3da1b3, bios/firmware.bin
    df692a80a5b1bc90728bc3dfc76cd948, bios/bios7.bin
    a392174eb3e572fed6447e956bde4b25, bios/bios9.bin"

BIOS[3ds]="3ds,                       Nintendo 3DS
    8c1c0d4c1ece975a003a88cd3baf3694, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00010202/content/00000000.app.romfs
    80e44b73d8c6144abebb57803af0f37f, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00010402/content/00000000.app.romfs
    e8463408d8f3bcadad40089c80bd58e8, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00014002/content/00000000.app.romfs
    332659e67c5a29f874487e393c9e710a, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00014102/content/00000000.app.romfs
    f4f0aa42482137c3ca6df7b1cc75bf7e, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00014202/content/00000000.app.romfs
    4b7d6c555fd4d663b9a898afad922c84, bios/citra/nand/00000000000000000000000000000000/title/0004009b/00014302/content/00000000.app.romfs
    2e9a89049e8b7c4df060b175d67b7895, bios/citra/nand/00000000000000000000000000000000/title/000400db/00010302/content/00000000.app.romfs
    73cfe711377205cf2fafc039b55493fc, bios/citra/sysdata/shared_font.bin"

BIOS[pokemini]="pokemini,             Pokemon-Mini
    1e4fb124a3a886865acb574f388c803d, bios/bios.min"


#### Panasonic, Sanyo and Goldstar ####

BIOS[3do]="3do,                       3DO Interactive Multiplayer
    f47264dd47fe30f73ab3c010015c155b, bios/panafz1.bin
    51f2f43ae2f3508a14d9f56597e2d3ce, bios/panafz10.bin
    8639fd5e549bd6238cfee79e3e749114, bios/goldstar.bin
    35fa1a1ebaaeea286dc5cd15487c13ea, bios/sanyotry.bin
    8970fc987ab89a7f64da9f8a8c4333ff, bios/3do_arcade_saot.bin
    1477bda80dc33731a65468c1f5bcbee9, bios/panafz10-norsa.bin
    428577250f43edc902ea239c50d2240d, bios/panafz10ja-anvil-kanji.bin
    cf11bbb5a16d7af9875cca9de9a15e09, bios/panafz10e-anvil-norsa.bin
    c23fb5d5e6bb1c240d02cf968972be37, bios/panafz1j-kanji.bin
    f6c71de7470d16abe4f71b1444883dc8, bios/panafz1j-norsa.bin
    a496cfdded3da562759be3561317b605, bios/panafz1j.bin"


#### PrBoom Team ####

#BIOS[prboom]="prboom                 PrBoom
   #00000000000000000000000000000000, roms/prboom/prboom.wad"


#### Sega ####

BIOS[dreamcast]="dreamcast,           Sega Dreamcast
    e10c53c2f8b90bab96ead2d368858623, bios/dc_boot.bin
    0a93f7940c455905bea6e392dfde92a4, bios/dc_flash.bin
    e10c53c2f8b90bab96ead2d368858623, bios/dc/boot.bin
    0a93f7940c455905bea6e392dfde92a4, bios/dc/flash.bin"

BIOS[gamegear]="gamegear,             Sega Game Gear
    672e104c3be3a238301aceffc3b23fd6, bios/bios.gg"

BIOS[mastersystem]="mastersystem,     Sega Master System
    bdb34f2c471e5d0c358eeec621f9d029, bios/bios_E.sms
    840481177270d5642a14ca71ee72844c, bios/bios_U.sms
    24a519c53f67b00640d0048ef7089105, bios/bios_J.sms
    840481177270d5642a14ca71ee72844c, bios/bios.sms"

BIOS[megadrive]="megadrive,           Sega Megadrive
    45e298905a08f9cfb38fd504cd6dbc84, bios/bios_MD.bin
    4ea493ea4e9f6c9ebfccbdb15110367e, bios/sk.bin
    b4e76e416b887f4e7413ba76fa735f16, bios/sk2chip.bin
    a0028b3043f9d59ceeb03da5b073b30d, bios/areplay.bin
    e8af7fe115a75c849f6aab3701e7799b, bios/ggenie.bin
    ff4a3572475236e859e3e9ac5c87d1f1, bios/rom.db"

BIOS[sega32x]="sega32x,               Sega 32x
    e66fa1dc5820d254611fdcdba0662372, bios/bios_CD_E.bin
    854b9150240a198070150e4566ae1290, bios/bios_CD_U.bin
    278a9397d192149e84e820ac621a8edd, bios/bios_CD_J.bin"

BIOS[segacd]="segacd,                 Sega CD
    e66fa1dc5820d254611fdcdba0662372, bios/bios_CD_E.bin
    854b9150240a198070150e4566ae1290, bios/bios_CD_U.bin
    278a9397d192149e84e820ac621a8edd, bios/bios_CD_J.bin"

BIOS[saturn]="saturn,                 Sega Saturn
    af5828fdff51384f99b3c4926be27762, bios/saturn_bios.bin
    85ec9ca47d8f6807718151cbcca8b964, bios/sega_101.bin
    3240872c70984b6cbfda1586cab68dbe, bios/mpr-17933.bin
    255113ba943c92a54facd25a10fd780c, bios/mpr-18811-mx.ic1
    1cd19988d1d72a3e7caa0b73234c96b4, bios/mpr-19367-mx.ic1
    5c5aa63d,                         bios/stvbios.zip/epr-17740.ic8
    3e23c81f,                         bios/stvbios.zip/epr-17740a.ic8
    02daf123,                         bios/stvbios.zip/epr-17742a.ic8
    2672f9d8,                         bios/stvbios.zip/epr-17951a.ic8
    d1be2adf,                         bios/stvbios.zip/epr-17952a.ic8
    a4c47570,                         bios/stvbios.zip/epr-17953a.ic8
    f7722da3,                         bios/stvbios.zip/epr-17954a.ic8
    d0e0889d,                         bios/stvbios.zip/epr-19730.ic8
    e09d1f60,                         bios/stvbios.zip/epr-19854.ic8
    59ed40f4,                         bios/stvbios.zip/epr-20091.ic8
    728dbca3,                         bios/stvbios.zip/stv1061.bin
    3dfeda92,                         bios/stvbios.zip/stv110.bin
    15432ae2,                         bios/stvbios.zip/stvbios.nv"

BIOS[naomi]="naomi,                   Sega Naomi
    3bffafac42a7767d8dcecf771f5552ba, bios/naomi.bin
    7a50fab9,                         bios/naomi.zip/dcnaodev.bios
    d2a1c6bf,                         bios/naomi.zip/epr-21576g.ic27
    60ddcbbe,                         bios/naomi.zip/epr-21577d.ic27
    cf36e97b,                         bios/naomi.zip/epr-21577e.ic27
    6c9aad83,                         bios/naomi.zip/epr-21578b.ic27
    dfd5f42a,                         bios/naomi.zip/epr-21578d.ic27
    087f09a3,                         bios/naomi.zip/epr-21578e.ic27
    08c0add7,                         bios/naomi.zip/epr-21576e.ic27
    9dad3495,                         bios/naomi.zip/epr-21576.ic27
    755a6e07,                         bios/naomi.zip/epr-21576b.ic27
    3b2afa7b,                         bios/naomi.zip/epr-21576d.ic27
    d4895685,                         bios/naomi.zip/epr-21576h.ic27
    25f64af7,                         bios/naomi.zip/epr-21577g.ic27
    55413214,                         bios/naomi.zip/epr-21578g.ic27
    7b452946,                         bios/naomi.zip/epr-21578h.ic27
    fea29cbb,                         bios/naomi.zip/eeprom-naomi-main-default.bin
    3ea24b6a,                         bios/naomi.zip/eeprom-naomi-x76f100-default.bin
    cedfe439,                         bios/naomi.zip/epr-21576a.ic27
    71f9c918,                         bios/naomi.zip/epr-21579.ic27
    33513691,                         bios/naomi.zip/epr-21579d.ic27
    7a50fab9,                         bios/dc/naomi.zip/dcnaodev.bios
    d2a1c6bf,                         bios/dc/naomi.zip/epr-21576g.ic27
    60ddcbbe,                         bios/dc/naomi.zip/epr-21577d.ic27
    cf36e97b,                         bios/dc/naomi.zip/epr-21577e.ic27
    6c9aad83,                         bios/dc/naomi.zip/epr-21578b.ic27
    dfd5f42a,                         bios/dc/naomi.zip/epr-21578d.ic27
    087f09a3,                         bios/dc/naomi.zip/epr-21578e.ic27
    08c0add7,                         bios/dc/naomi.zip/epr-21576e.ic27
    9dad3495,                         bios/dc/naomi.zip/epr-21576.ic27
    755a6e07,                         bios/dc/naomi.zip/epr-21576b.ic27
    3b2afa7b,                         bios/dc/naomi.zip/epr-21576d.ic27
    d4895685,                         bios/dc/naomi.zip/epr-21576h.ic27
    25f64af7,                         bios/dc/naomi.zip/epr-21577g.ic27
    55413214,                         bios/dc/naomi.zip/epr-21578g.ic27
    7b452946,                         bios/dc/naomi.zip/epr-21578h.ic27
    fea29cbb,                         bios/dc/naomi.zip/eeprom-naomi-main-default.bin
    3ea24b6a,                         bios/dc/naomi.zip/eeprom-naomi-x76f100-default.bin
    cedfe439,                         bios/dc/naomi.zip/epr-21576a.ic27
    71f9c918,                         bios/dc/naomi.zip/epr-21579.ic27
    33513691,                         bios/dc/naomi.zip/epr-21579d.ic27
    a21bef24,                         bios/airlbios.zip/epr-21801.ic27
    a77c6b1c,                         bios/airlbios.zip/epr-21802.ic27
    fea29cbb,                         bios/airlbios.zip/main_eeprom.bin
    3ea24b6a,                         bios/airlbios.zip/x76f100_eeprom.bin
    a21bef24,                         bios/dc/airlbios.zip/epr-21801.ic27
    a77c6b1c,                         bios/dc/airlbios.zip/epr-21802.ic27
    fea29cbb,                         bios/dc/airlbios.zip/main_eeprom.bin
    3ea24b6a,                         bios/dc/airlbios.zip/x76f100_eeprom.bin
    121e009c,                         bios/f355bios.zip/epr-22849.ic27
    28aa539d,                         bios/f355bios.zip/epr-22850.ic27
    62483677,                         bios/f355bios.zip/epr-22851.ic27
    fea29cbb,                         bios/f355bios.zip/main_eeprom.bin
    3ea24b6a,                         bios/f355bios.zip/x76f100_eeprom.bin
    121e009c,                         bios/dc/f355bios.zip/epr-22849.ic27
    28aa539d,                         bios/dc/f355bios.zip/epr-22850.ic27
    62483677,                         bios/dc/f355bios.zip/epr-22851.ic27
    fea29cbb,                         bios/dc/f355bios.zip/main_eeprom.bin
    3ea24b6a,                         bios/dc/f355bios.zip/x76f100_eeprom.bin
    1f630716,                         bios/f355dlx.zip/epr-21862.ic27
    f0cd4aaa,                         bios/f355dlx.zip/epr-21862p.ic27
    0615a4d1,                         bios/f355dlx.zip/epr-21863.ic27
    12ed7c66,                         bios/f355dlx.zip/epr-21864.ic27
    05128861,                         bios/f355dlx.zip/epr-21864p.ic27
    fea29cbb,                         bios/f355dlx.zip/main_eeprom.bin
    3ea24b6a,                         bios/f355dlx.zip/x76f100_eeprom.bin
    1f630716,                         bios/dc/f355dlx.zip/epr-21862.ic27
    f0cd4aaa,                         bios/dc/f355dlx.zip/epr-21862p.ic27
    0615a4d1,                         bios/dc/f355dlx.zip/epr-21863.ic27
    12ed7c66,                         bios/dc/f355dlx.zip/epr-21864.ic27
    05128861,                         bios/dc/f355dlx.zip/epr-21864p.ic27
    fea29cbb,                         bios/dc/f355dlx.zip/main_eeprom.bin
    3ea24b6a,                         bios/dc/f355dlx.zip/x76f100_eeprom.bin
    45f310dc,                         bios/hod2bios.zip/epr-20006a.ic2
    c9adf9b6,                         bios/hod2bios.zip/epr-21262.ic2
    d99e5b9b,                         bios/hod2bios.zip/epr-21329.ic27
    9e3bfa1b,                         bios/hod2bios.zip/epr-21330.ic27
    065f8500,                         bios/hod2bios.zip/epr-21331.ic27
    ea74e967,                         bios/hod2bios.zip/hotd2biosproto.ic27
    fea29cbb,                         bios/hod2bios.zip/main_eeprom.bin
    2c9600b1,                         bios/hod2bios.zip/tg12.ic2
    3ea24b6a,                         bios/hod2bios.zip/x76f100_eeprom.bin
    45f310dc,                         bios/dc/hod2bios.zip/epr-20006a.ic2
    c9adf9b6,                         bios/dc/hod2bios.zip/epr-21262.ic2
    d99e5b9b,                         bios/dc/hod2bios.zip/epr-21329.ic27
    9e3bfa1b,                         bios/dc/hod2bios.zip/epr-21330.ic27
    065f8500,                         bios/dc/hod2bios.zip/epr-21331.ic27
    ea74e967,                         bios/dc/hod2bios.zip/hotd2biosproto.ic27
    fea29cbb,                         bios/dc/hod2bios.zip/main_eeprom.bin
    2c9600b1,                         bios/dc/hod2bios.zip/tg12.ic2
    3ea24b6a,                         bios/dc/hod2bios.zip/x76f100_eeprom.bin"

BIOS[atomiswave]="atomiswave,         Atomiswave
    719b2b0b,                         bios/awbios.zip/bios0.ic23
    d3e80a9f,                         bios/awbios.zip/bios1.ic23
    719b2b0b,                         bios/dc/awbios.zip/bios0.ic23
    d3e80a9f,                         bios/dc/awbios.zip/bios1.ic23"


### Sharp ####

BIOS[x68000]="x68000,                 Sharp x68000
    7fd4caabac1d9169e289f0f7bbf71d8e, bios/keropi/iplrom.dat
    f373003710ab4322642f527f567e020a, bios/keropi/iplrom30.dat
    cc78d4f4900f622bd6de1aed7f52592f, bios/keropi/iplromco.dat
    0617321daa182c3f3d6f41fd02fb3275, bios/keropi/iplromxv.dat
    cb0a5cfcf7247a7eab74bb2716260269, bios/keropi/cgrom.dat"


#### SNK ####

BIOS[neogeo]="neogeo,                 Neo-Geo
    5a86cff2,                         bios/neogeo.zip/000-lo.lo
    dff6d41f,                         bios/neogeo.zip/japan-j3.bin
    c2ea0cfd,                         bios/neogeo.zip/sfix.sfix
    94416d67,                         bios/neogeo.zip/sm1.sm1
    162f0ebe,                         bios/neogeo.zip/sp-1v1_3db8c.bin
    03cc9f6a,                         bios/neogeo.zip/sp-45.sp1
    2723a5b5,                         bios/neogeo.zip/sp-e.sp1
    acede59c,                         bios/neogeo.zip/sp-j2.sp1
    486cb450,                         bios/neogeo.zip/sp-j3.sp1
    c7f2fa45,                         bios/neogeo.zip/sp-s.sp1
    9036d879,                         bios/neogeo.zip/sp-s2.sp1
    91b64be3,                         bios/neogeo.zip/sp-s3.sp1
    e72943de,                         bios/neogeo.zip/sp-u2.sp1
    fbc6d469,                         bios/neogeo.zip/sp1-j3.bin
    62f021f4,                         bios/neogeo.zip/sp1-u2
    2025b7a2,                         bios/neogeo.zip/sp1-u3.bin
    9fb0abe4,                         bios/neogeo.zip/sp1.jipan.1024
    0ce453a0,                         bios/neogeo.zip/uni-bios_1_0.rom
    5dda0d84,                         bios/neogeo.zip/uni-bios_1_1.rom
    4fa698e9,                         bios/neogeo.zip/uni-bios_1_2.rom
    e19d3ce9,                         bios/neogeo.zip/uni-bios_1_2o.rom
    b24b44a0,                         bios/neogeo.zip/uni-bios_1_3.rom
    0c12c2ad,                         bios/neogeo.zip/uni-bios_2_0.rom
    8dabf76b,                         bios/neogeo.zip/uni-bios_2_1.rom
    2d50996a,                         bios/neogeo.zip/uni-bios_2_2.rom
    27664eb5,                         bios/neogeo.zip/uni-bios_2_3.rom
    601720ae,                         bios/neogeo.zip/uni-bios_2_3o.rom
    a97c89a9,                         bios/neogeo.zip/uni-bios_3_0.rom
    0c58093f,                         bios/neogeo.zip/uni-bios_3_1.rom
    a4e8b9b3,                         bios/neogeo.zip/uni-bios_3_2.rom
    24858466,                         bios/neogeo.zip/uni-bios_3_3.rom
    a7aab458,                         bios/neogeo.zip/uni-bios_4_0.rom
    f0e8f27d,                         bios/neogeo.zip/vs-bios.rom"

BIOS[neogeocd]="neogeocd,             Neo-Geo CD
    df9de490,                         bios/neocdz.zip/neocdz.bin
    f39572af7584cb5b3f70ae8cc848aba2, bios/neocd-cdz.bin
    5c2366f25ff92d71788468ca492ebeca, bios/neocd-front-load.bin
    122aee210324c72e8a11116e6ef9c0d0, bios/neocd-top-load.bin
    a147aeab5edeb1a9b652e7fb640f5bb3, bios/neocd-unibios.bin
    e255264d85d5765013b1b2fa8109dd53, bios/ng-lo.rom
    f39572af7584cb5b3f70ae8cc848aba2, bios/neocd_z.rom
    5c2366f25ff92d71788468ca492ebeca, bios/neocd/front-sp1.bin
    122aee210324c72e8a11116e6ef9c0d0, bios/neocd/top-sp1.bin
    f39572af7584cb5b3f70ae8cc848aba2, bios/neocd/neocd.bin
    e255264d85d5765013b1b2fa8109dd53, bios/neocd/ng-lo.rom
    fc7599f3f871578fe9a0453662d1c966, bios/neocd/000-lo.lo
    a147aeab5edeb1a9b652e7fb640f5bb3, bios/neocd/uni-bioscd.rom
    8834880c33164ccbe6476b559f3e37de, bios/neocd/neocd_f.rom
    043d76d5f0ef836500700c34faef774d, bios/neocd/neocd_sf.rom
    de3cf45d227ad44645b22aa83b49f450, bios/neocd/neocd_t.rom
    f6325a33c6d63ea4b9162a3fa8c32727, bios/neocd/neocd_st.rom
    11526d58d4c524daef7d5d677dc6b004, bios/neocd/neocd_z.rom
    971ee8a36fb72da57aed01758f0a37f5, bios/neocd/neocd_sz.rom
    5a86cff2,                         bios/neogeo.zip/000-lo.lo
    dff6d41f,                         bios/neogeo.zip/japan-j3.bin
    c2ea0cfd,                         bios/neogeo.zip/sfix.sfix
    94416d67,                         bios/neogeo.zip/sm1.sm1
    162f0ebe,                         bios/neogeo.zip/sp-1v1_3db8c.bin
    03cc9f6a,                         bios/neogeo.zip/sp-45.sp1
    2723a5b5,                         bios/neogeo.zip/sp-e.sp1
    acede59c,                         bios/neogeo.zip/sp-j2.sp1
    486cb450,                         bios/neogeo.zip/sp-j3.sp1
    c7f2fa45,                         bios/neogeo.zip/sp-s.sp1
    9036d879,                         bios/neogeo.zip/sp-s2.sp1
    91b64be3,                         bios/neogeo.zip/sp-s3.sp1
    e72943de,                         bios/neogeo.zip/sp-u2.sp1
    fbc6d469,                         bios/neogeo.zip/sp1-j3.bin
    62f021f4,                         bios/neogeo.zip/sp1-u2
    2025b7a2,                         bios/neogeo.zip/sp1-u3.bin
    9fb0abe4,                         bios/neogeo.zip/sp1.jipan.1024
    0ce453a0,                         bios/neogeo.zip/uni-bios_1_0.rom
    5dda0d84,                         bios/neogeo.zip/uni-bios_1_1.rom
    4fa698e9,                         bios/neogeo.zip/uni-bios_1_2.rom
    e19d3ce9,                         bios/neogeo.zip/uni-bios_1_2o.rom
    b24b44a0,                         bios/neogeo.zip/uni-bios_1_3.rom
    0c12c2ad,                         bios/neogeo.zip/uni-bios_2_0.rom
    8dabf76b,                         bios/neogeo.zip/uni-bios_2_1.rom
    2d50996a,                         bios/neogeo.zip/uni-bios_2_2.rom
    27664eb5,                         bios/neogeo.zip/uni-bios_2_3.rom
    601720ae,                         bios/neogeo.zip/uni-bios_2_3o.rom
    a97c89a9,                         bios/neogeo.zip/uni-bios_3_0.rom
    0c58093f,                         bios/neogeo.zip/uni-bios_3_1.rom
    a4e8b9b3,                         bios/neogeo.zip/uni-bios_3_2.rom
    24858466,                         bios/neogeo.zip/uni-bios_3_3.rom
    a7aab458,                         bios/neogeo.zip/uni-bios_4_0.rom
    f0e8f27d,                         bios/neogeo.zip/vs-bios.rom"


#### Sony Computer Entertainment

BIOS[psx]="psx,                       Sony Playstation
    6e3735ff4c7dc899ee98981385f6f3d0, bios/scph101.bin
    dc2b9bf8da62ec93e868cfd29f0d067d, bios/scph1001.bin
    8dd7d5296a650fac7319bce665a6a53c, bios/scph5500.bin
    490f666e1afb15b7362b406ed1cea246, bios/scph5501.bin
    32736f17079d0b2b7024407c39bd3050, bios/scph5502.bin
    1e68c231d0896b7eadcad1d7d8e76129, bios/scph7001.bin"

BIOS[ps2]="ps2,                       Sony Playstation 2
    28922c703cc7d2cf856f177f2985b3a9, bios/SCPH30004R.bin
    3faf7c064a4984f53e2ef5e80ed543bc, bios/SCPH30004R.MEC
    d5ce2c7d119f563ce04bc04dbc3a323e, bios/scph39001.bin
    3faf7c064a4984f53e2ef5e80ed543bc, bios/scph39001.MEC
    9a9e8ed7668e6adfc8f7766c08ab9cd0, bios/EROM.BIN
    44552702b05697a14ccbe2ca22ee7139, bios/rom1.bin
    b406d05922dac2eaf3c2e68157b1b468, bios/ROM2.BIN
    9a9e8ed7668e6adfc8f7766c08ab9cd0, bios/pcsx2/bios/EROM.BIN
    44552702b05697a14ccbe2ca22ee7139, bios/pcsx2/bios/rom1.bin"

BIOS[ps3]="ps3,                       Sony Playstation 3
    00000000000000000000000000000000, bios/PS3UPDAT.PUP"
    # https://www.playstation.com/en-us/support/hardware/ps3/system-software

BIOS[psp]="psp,                       Sony Playstation Portable
    1955bcc4957c4900e0e5885cd557e28c, bios/PPSSPP/flash0/font/arib.pgf
    3522de0822ea504d0a5f0c8fa4c1164c, bios/PPSSPP/flash0/font/gb3s1518.bwfon
    f17392890e8895826b06596e9dc54fde, bios/PPSSPP/flash0/font/imagefont.bin
    0ed527caf6befe752f759e5de14cf025, bios/PPSSPP/flash0/font/jpn0.pgf
    63a947ffcd5b1bbb524d41556ed5ee65, bios/PPSSPP/flash0/font/kr0.pgf
    90df7a7c5aaa500b7e1d14789f094afd, bios/PPSSPP/flash0/font/ltn0.pgf
    43933d4f25f380ab619fd4031108fcce, bios/PPSSPP/flash0/font/ltn1.pgf
    0ff6d2e40360a74ddf347e1d498085f9, bios/PPSSPP/flash0/font/ltn10.pgf
    c4205f75e74457f7890d2bf344fe5de1, bios/PPSSPP/flash0/font/ltn11.pgf
    24e2b96dd6f32ac8ad2a11c6c69eddef, bios/PPSSPP/flash0/font/ltn12.pgf
    80f8268c5bd57182138214b2bed1ef47, bios/PPSSPP/flash0/font/ltn13.pgf
    b4c11f3326c5a7d9d740860dea1de24c, bios/PPSSPP/flash0/font/ltn14.pgf
    7bc20212ca1e703bbe497dc24e12f77c, bios/PPSSPP/flash0/font/ltn15.pgf
    7e6e4924cedee424f0e4dbb50133c531, bios/PPSSPP/flash0/font/ltn2.pgf
    f2bb7f170c3ad50b3be57082761440d9, bios/PPSSPP/flash0/font/ltn3.pgf
    faafbb188141564c4d8e1b08de90ec04, bios/PPSSPP/flash0/font/ltn4.pgf
    1adfe7797dfea78b964a75ea265d3117, bios/PPSSPP/flash0/font/ltn5.pgf
    bbc58f1214372bd1604875b3b5e7a764, bios/PPSSPP/flash0/font/ltn6.pgf
    404f92e373272745c15b4ab2f5a936e8, bios/PPSSPP/flash0/font/ltn7.pgf
    525c68b5fb073d82df65f30d979a21ac, bios/PPSSPP/flash0/font/ltn8.pgf
    56129bbac3f8e5187a5a9c775d71d35d, bios/PPSSPP/flash0/font/ltn9.pgf
    dc81fa82d26d511e976c41a9191ba541, bios/PPSSPP/flash0/font/shadow.pgf"


#### Fairchild Channel F ####

BIOS[channelf]="channelf,             Fairchild Channel F
    ac9804d4c0e9d07e33472e3726ed15c3, bios/sl31253.bin
    da98f4bb3242ab80d76629021bb27585, bios/sl31254.bin
    95d339631d867c8f1d15a5f2ec26069d, bios/sl90025.bin"

#### Xbox Classic ####

BIOS[xbox]="xbox,                     Xbox Classic
    d49c52a4102f6df7bcf8d0617ac475ed, bios/mcpx_1.0.bin
    ec00e31e746de2473acfe7903c5a4cb7, bios/Complex_4627.bin"


#### Java ME ####

BIOS[palmos]="j2me,                   Java ME
    00000000000000000000000000000000, bios/freej2me-lr.jar"


#### PalmOS ####

BIOS[palmos]="palmos,                 PalmOS
    83cb1d1c76e568b916dc2e7c0bf669f6, bios/palmos41-en-m515.rom"

#### Super Cassette Vision ####

BIOS[scv]="scv,                       Super Cassette Vision
    929617bc739e58e550fe9025cae4158b, bios/epochtv.chr
    635a978fd40db9a18ee44eff449fc126, bios/upd7801g.s01"


#------------------------------------------------------------------------------#

DB_SYSTEM=''
DB_SYSTEMS=''
DB_NAME=''
DB_FILE=''
DB_HASH=''
LOG_DB_NAME='NONE'

#------------------------------------------------------------------------------#

##
 # Concatenates all system names that use bios in the DB_SYSTEMS variable.
 ##
function makeDbSystems() {
    DB_SYSTEMS=''

    for i in "${BIOS[@]}"; do
        DB_SYSTEM="$(echo "#,${i}" | grep '^#,' | cut -d ',' -f 2 | awk '{$1=$1;print}')"
        DB_SYSTEMS="$(printf "%s\n" ${DB_SYSTEMS} ${DB_SYSTEM})"
    done

    DB_SYSTEMS="$(printf "%s\n" ${DB_SYSTEMS} | sort)"
}

#------------------------------------------------------------------------------#

##
 # Displays the status of all scanned bios.
 ##
function log() {
    if [ "${1}" == 'COMPLETE' ]; then
        if [ "${LOG_DB_NAME}" == 'NONE' ]; then
            echo 'No missing bios'
        fi
        return 0
    fi

    if [ "${LOG_DB_NAME}" != "${DB_NAME}" ]; then
        LOG_DB_NAME="${DB_NAME}"
        echo "> ${DB_NAME}"
    fi

    echo "${1} ${DB_HASH} ${DB_FILE#/userdata/}"
}

#------------------------------------------------------------------------------#

##
 # Checks the status of all bios supported by Batocera.PLUS
 ##
function checkBios() {
    makeDbSystems

    for DB_SYSTEM in ${DB_SYSTEMS}; do
        DB_NAME="$(echo "#,${BIOS[${DB_SYSTEM}]}" | grep '^#,' | cut -d ',' -f 3 | awk '{$1=$1;print}')"
        HASH_NAME=$(echo "${BIOS[${DB_SYSTEM}]}" | tail -n +2 | awk '{$1=$1;print}' | sed 's/ /#/g')

        for j in ${HASH_NAME}; do
            DB_FILE="/userdata/$(echo ${j} | cut -d ',' -f 2 | sed 's/#/ /g' | awk '{$1=$1;print}')"
            DB_HASH="$(echo ${j} | cut -d ',' -f 1)"

            ## Check zip files
            if [ "$(echo "${DB_FILE}" | grep '.zip/')" ]; then
                FILE_ZIP="$(dirname "${DB_FILE}")"

                if [ -f "${FILE_ZIP}" ]; then
                    FILE_COMP="$(basename "${DB_FILE}")"
                    FILE_HASH="$(unzip -Z -v ${FILE_ZIP} 2> /dev/null)"

                    # Checks if the zipped file is corrupted
                    if [ "$?" != '0' ]; then
                        if [ "${FILE_HASH}" ==  "${FILE_HASH_OLD}" ]; then
                            continue
                        fi
                        FILE_HASH_OLD="${FILE_HASH}"
                        DB_FILE="${FILE_ZIP}"
                        DB_HASH='-'
                        log 'CORRUPTED'
                        continue
                    fi

                    FILE_HASH="$(echo "${FILE_HASH}" 2> /dev/null | grep -A 21 "${FILE_COMP}" | grep 'CRC' | cut -d ':' -f 2 | sed 's/ //g')"

                    if [ "${DB_HASH}" != "${FILE_HASH}" ]; then
                        DB_HASH="${FILE_HASH}"
                        log 'INCORRECT'
                    fi
                else
                    if [ "${FILE_ZIP}" ==  "${FILE_ZIP_OLD}" ]; then
                        continue
                    fi
                    FILE_ZIP_OLD="${FILE_ZIP}"
                    DB_FILE="${FILE_ZIP}"
                    DB_HASH='-'
                    log 'MISSING'
                fi
                continue
            fi

            ## Check normal files
            if [ -f "${DB_FILE}" ]; then
                if [ "${DB_HASH}" == '00000000000000000000000000000000' ]; then
                    continue
                fi

                FILE_HASH="$(md5sum "${DB_FILE}" | awk '{print $1}')"

                if [ "${DB_HASH}" != "${FILE_HASH}" ]; then
                    DB_HASH="${FILE_HASH}"
                    log 'INCORRECT'
                fi
            else
                log 'MISSING'
            fi
        done
    done

    log 'COMPLETE'
}

#------------------------------------------------------------------------------#

##
 # Displays the list of bios used by the Batocera.PLUS
 ##
function createReadme() {
    makeDbSystems
    for DB_SYSTEM in ${DB_SYSTEMS}; do
        echo -e "${DB_SYSTEM}:"
        echo -e "${BIOS[${DB_SYSTEM}]}\n" | sed 's/^    //g' | tail -n +2
    done
}

#------------------------------------------------------------------------------#

##
 # Main
 ##
if [ $1 ]; then
    case $1 in
        --createReadme)
            createReadme
            ;;
        --help)
            echo -e "Check for bios missing\n" \
                    '--createReadme Show all bios suported\n' \
                    '--help         this help'
            ;;
        *) echo -e "type $(basename "$0") --help"
    esac
else
    checkBios
fi

exit 0
